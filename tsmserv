- name: Find processes using GSKit libraries (without lsof or shell)
  community.general.ps:
    pid: all
  register: process_list

- name: Extract GSKit-related processes
  set_fact:
    gsk_processes: "{{ process_list.processes | selectattr('cmdline', 'search', 'gsk') | map(attribute='comm') | list | unique }}"

- name: Show matching processes
  debug:
    var: gsk_processes
