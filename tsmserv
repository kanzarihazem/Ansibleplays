    - name: Check if /opt/tivoli/test.opt contains required words
      shell: |
        grep -q 'server' /opt/tivoli/test.opt && grep -q 'shm' /opt/tivoli/test.opt && grep -q 'tsmdata' /opt/tivoli/test.opt
      register: words_check
      ignore_errors: yes

    - name: Add file content check status to test results
      set_fact:
        test_results: "{{ test_results }}\nFile /opt/tivoli/test.opt contains required words: {{ 'OK' if words_check.rc == 0 else 'NOTOK' }}"

    - name: Display file content check status
      debug:
        msg: "File /opt/tivoli/test.opt contains required words: {{ 'OK' if words_check.rc == 0 else 'NOTOK' }}"
